<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DTC13 PROJECTS</title>
</head>


<body>
    <div class="tab-wrapper" id="tabs">
        <!-- NAVIGATION TABS -->
        <ul class="nav nav-tabs justify-content-center" id="mainTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active d-flex align-items-center gap-2" id="calendar-tab" data-bs-toggle="tab"
                    data-bs-target="#calendar" type="button" role="tab" aria-controls="calendar" aria-selected="true">
                    <img src="../styles/calendar-month.svg" alt=""> Calendar
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link d-flex align-items-center gap-2" id="home-tab" data-bs-toggle="tab"
                    data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="false">
                    <img src="../styles/home.svg" alt=""> Home
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link d-flex align-items-center gap-2" id="settings-tab" data-bs-toggle="tab"
                    data-bs-target="#settings" type="button" role="tab" aria-controls="settings" aria-selected="false">
                    <img src="../styles/settings.svg" alt=""> Settings
                </button>
            </li>
        </ul>

        <!-- TAB PAGES -->
        <div class="tab-content" id="mainTabsContent">
            <!-- Calendar -->
            <div class="tab-pane fade show active" id="calendar" role="tabpanel" aria-labelledby="calendar-tab">
                <div id="calendar">
                    <div class="calendar-container">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <div>
                                <h5 id="calendarWeekTitle" class="mb-0"></h5>
                                <small class="text-muted">Block out your study time</small>
                            </div>
                        </div>

                        <div id="calendar">
                            <div id="calendarGrid" class="calendar-grid"></div>
                        </div>
                        <div class="btn-group">
                            <button id="prevWeekBtn" class="btn btn-outline-secondary btn-sm" type="button">←
                                Prev</button>
                            <button id="nextWeekBtn" class="btn btn-outline-secondary btn-sm" type="button">Next
                                →</button>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Home -->
            <div class="tab-pane fade" id="home" role="tabpanel" aria-labelledby="home-tab">
                <div class="home-container container py-4">
                    <section id="authPanel" class="auth-panel card shadow-sm p-4 mx-auto my-4" style="max-width:480px;">
                        <h5 class="text-center mb-3">Welcome</h5>

                        <form id="authForm" class="text-start">
                            <div class="mb-3">
                                <label for="authEmail" class="form-label">Email</label>
                                <input type="email" class="form-control" id="authEmail" placeholder="you@example.com"
                                    required>
                            </div>
                            <div class="mb-3">
                                <label for="authPassword" class="form-label">Password</label>
                                <input type="password" class="form-control" id="authPassword" placeholder="••••••••"
                                    required>
                            </div>

                            <div class="d-grid gap-2">
                                <button id="doLogin" type="button" class="btn btn-primary">Log In</button>
                                <button id="openSignup" type="button" class="btn btn-outline-secondary"
                                    data-bs-toggle="modal" data-bs-target="#signupModal">
                                    Create account
                                </button>
                            </div>

                            <div id="authError" class="text-danger text-center mt-3 small" style="min-height:1.25rem;">
                            </div>
                        </form>
                    </section>
                    <div id="homeApp" class="d-none">
                        <h3 class="text-center mb-4">My Tasks</h3>
                        <div id="taskList" class="row gy-3"></div>
                        <div id="noTasksMsg" class="text-center text-muted mt-3">No tasks yet — add one below!</div>
                        <div class="floating-ui">
                            <button id="toggleTaskForm" class="btn btn-primary add-btn" type="button"
                                data-bs-toggle="collapse" data-bs-target="#taskFormCollapse" aria-expanded="false"
                                aria-controls="taskFormCollapse">
                                + Add Task
                            </button>
                            <!-- Collapsed form panel -->
                            <div class="collapse form-popup" id="taskFormCollapse">
                                <div class="card shadow-sm">
                                    <div class="card-body">
                                        <form id="taskForm" class="text-start">
                                            <div class="mb-2">
                                                <label for="taskName" class="form-label">Task / Assignment</label>
                                                <input id="taskName" class="form-control"
                                                    placeholder="e.g., COMP 1510 Lab 5" required>
                                            </div>

                                            <div class="mb-2">
                                                <label for="dueDate" class="form-label">Due date</label>
                                                <input type="date" id="dueDate" class="form-control" required>
                                            </div>

                                            <div class="row g-2">
                                                <div class="col-6">
                                                    <label for="timeNeeded" class="form-label">Time needed (hrs)</label>
                                                    <input type="number" id="timeNeeded" class="form-control" step="0.5"
                                                        min="0.5" placeholder="2" required>
                                                </div>
                                                <div class="col-6">
                                                    <label for="importance" class="form-label">Importance</label>
                                                    <select id="importance" class="form-select">
                                                        <option value="5">5 – Critical</option>
                                                        <option value="4">4 – High</option>
                                                        <option value="3" selected>3 – Medium</option>
                                                        <option value="2">2 – Low</option>
                                                        <option value="1">1 – Nice to have</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="d-flex justify-content-end mt-3 gap-2">
                                                <button type="button" class="btn btn-outline-secondary"
                                                    data-bs-toggle="collapse"
                                                    data-bs-target="#taskFormCollapse">Cancel</button>
                                                <button type="submit" class="btn btn-primary">Save Task</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

<!-- SETTINGS TAB -->
        <div class="tab-pane fade" id="settings" role="tabpanel" aria-labelledby="settings-tab">
            <div class="container py-4">
                <h3 class="text-center mb-4 fw-semibold">Settings</h3>

                <div class="settings-card mx-auto shadow-sm p-4 rounded-4" style="max-width: 480px;">
                    <!-- Sort -->
                    <div class="mb-4 text-center">
                        <h6 class="fw-semibold mb-2">Sort Tasks By</h6>
                        <div class="d-flex justify-content-center gap-2 flex-wrap">
                            <button class="btn btn-outline-primary btn-sm">Due Date</button>
                            <button class="btn btn-outline-primary btn-sm">Class</button>
                            <button class="btn btn-outline-primary btn-sm">Time Required</button>
                        </div>
                    </div>

                    <hr>

                    <!-- Notifications -->
                    <div class="mb-3">
                        <h6 class="fw-semibold mb-3 text-center">Notification Settings</h6>

                        <div class="form-check form-switch mb-2">
                            <input class="form-check-input" type="checkbox" id="notifPush">
                            <label class="form-check-label" for="notifPush">Push Notifications</label>
                        </div>

                        <div class="form-check form-switch mb-2">
                            <input class="form-check-input" type="checkbox" id="notifVibrate">
                            <label class="form-check-label" for="notifVibrate">Vibrate</label>
                        </div>

                        <div class="form-check form-switch mb-2">
                            <input class="form-check-input" type="checkbox" id="notifAudio">
                            <label class="form-check-label" for="notifAudio">Notification Audio</label>
                        </div>
                    </div>

                    <hr>

                    <!-- Theme -->
                    <div class="text-center mb-3">
                        <h6 class="fw-semibold mb-2">Theme</h6>
                        <div class="btn-group" role="group">
                            <input type="radio" class="btn-check" name="theme" id="themeLight" checked>
                            <label class="btn btn-outline-secondary btn-sm" for="themeLight">Light</label>

                            <input type="radio" class="btn-check" name="theme" id="themeDark">
                            <label class="btn btn-outline-secondary btn-sm" for="themeDark">Dark</label>
                        </div>
                    </div>

                    <hr>

                    <!-- Base Schedule -->
                    <div class="d-flex justify-content-between align-items-center mb-3 px-2">
                        <span class="fw-semibold">Base Schedule</span>
                        <button id="applyBaseBtn" class="btn btn-outline-primary btn-sm">Apply to This Week</button>
                    </div>

                    <div class="text-muted small text-center mb-3">
                        Manage your data and apply saved base schedules.
                    </div>

                    <hr>

                    <!-- Account -->
                    <div class="text-center">
                        <button id="logoutBtn" class="btn btn-outline-danger btn-sm px-4">Sign Out</button>
                        <button id="delaccBtn" class="btn btn-outline-danger btn-sm px-4">Delete Account</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

        <!-- Sign Up Modal -->
        <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header border-0">
                        <h5 class="modal-title" id="signupModalLabel">Create your account</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <form id="signupForm">
                        <div class="modal-body">
                            <div class="mb-3">
                                <label for="suEmail" class="form-label">Email</label>
                                <input type="email" class="form-control" id="suEmail" placeholder="you@example.com"
                                    required>
                            </div>
                            <div class="mb-3">
                                <label for="suPassword" class="form-label">Password</label>
                                <input type="password" class="form-control" id="suPassword"
                                    placeholder="Minimum 6 characters" required>
                            </div>
                            <div class="mb-2">
                                <label for="suPassword2" class="form-label">Confirm Password</label>
                                <input type="password" class="form-control" id="suPassword2" required>
                            </div>
                            <div id="signupError" class="text-danger small" style="min-height:1.25rem;">
                            </div>
                        </div>

                        <div class="modal-footer border-0">
                            <button type="button" class="btn btn-link" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-success">Create Account</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Delete Account Modal -->
        <div class="modal fade" id="confirmDelete" tabindex="-1" aria-labelledby="confirmDeleteLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header border-0">
                        <h5 class="modal-title" id="confirmDeleteLabel">Delete account info</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        This will permanently remove your tasks, events, and calendar availability. Your
                        sign-in
                        stays
                        intact.
                        Proceed?
                    </div>
                    <div class="modal-footer border-0">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button id="confirmDeleteBtn" type="button" class="btn btn-danger">Yes,
                            delete</button>
                    </div>
                </div>
            </div>
        </div>

        <script type="module" src="/src/main.js"></script>

</body>

</html>